{"version":3,"sources":["finder.js"],"names":["define","skylark","langx","browser","noder","velm","ancestor","node","selector","root","parentNode","matches","ancestors","ret","push","byId","id","doc","getElementById","children","childNodes","i","length","nodeType","closest","descendants","elm","slice","call","querySelectorAll","matchError","local","query","descendant","querySelector","nodes","find","document","body","findAll","firstChild","first","nextSibling","lastChild","last","previousSibling","isString","nativeMatchesSelector","replace","match","check","adjacent","nextSiblings","parent","previousSiblings","siblings","filter","Array","prototype","matchesSelector","parser","rawMatch","separator","combinator","combinatorChildren","tagName","className","attributeKey","attributeOperator","attributeQuote","attributeValue","pseudoMarker","pseudoClass","pseudoQuote","pseudoClassQuotedValue","pseudoClassValue","separatorIndex","parsed","expressions","combinatorIndex","currentSeparator","reversed","reverseCombinator","tag","currentParsed","reUnescape","classList","classes","value","regexp","RegExp","escapeRegExp","pseudos","key","type","test","indexOf","attributes","operator","cache","reverseCache","parse","expression","isReversed","Slick","currentCache","raw","reverse","this","exp","parts","j","cexp","from","to","string","apply","parseSelector","checked","contains","idx","text","$","disabled","enabled","eq","focus","activeElement","href","tabindex","has","sel","hidden","selected","visible","offsetWidth","divide","cond","nativeSelector","customPseudos","Operator","JSON","stringify","part","undefine","toUpperCase","nodeName","getAttribute","cls","pseudo","hasAttribute","simpleExpCounter","currentExpression","item","combine","bit","node1","op","prev","next","divided","single","currentBit","founds","found","currentItems","map","concat","finder","mixin"],"mappings":"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","file":"../finder.js","sourcesContent":["define([\r\n    \"./skylark\",\r\n    \"./langx\",\r\n    \"./browser\",\r\n    \"./noder\"\r\n], function(skylark, langx, browser, noder, velm) {\r\n    var local = {},\r\n        filter = Array.prototype.filter,\r\n        slice = Array.prototype.slice,\r\n        nativeMatchesSelector = browser.matchesSelector;\r\n\r\n    /*\r\n    ---\r\n    name: Slick.Parser\r\n    description: Standalone CSS3 Selector parser\r\n    provides: Slick.Parser\r\n    ...\r\n    */\r\n    ;\r\n    (function() {\r\n\r\n        var parsed,\r\n            separatorIndex,\r\n            combinatorIndex,\r\n            reversed,\r\n            cache = {},\r\n            reverseCache = {},\r\n            reUnescape = /\\\\/g;\r\n\r\n        var parse = function(expression, isReversed) {\r\n            if (expression == null) return null;\r\n            if (expression.Slick === true) return expression;\r\n            expression = ('' + expression).replace(/^\\s+|\\s+$/g, '');\r\n            reversed = !!isReversed;\r\n            var currentCache = (reversed) ? reverseCache : cache;\r\n            if (currentCache[expression]) return currentCache[expression];\r\n            parsed = {\r\n                Slick: true,\r\n                expressions: [],\r\n                raw: expression,\r\n                reverse: function() {\r\n                    return parse(this.raw, true);\r\n                }\r\n            };\r\n            separatorIndex = -1;\r\n            while (expression != (expression = expression.replace(regexp, parser)));\r\n            parsed.length = parsed.expressions.length;\r\n            return currentCache[parsed.raw] = (reversed) ? reverse(parsed) : parsed;\r\n        };\r\n\r\n        var reverseCombinator = function(combinator) {\r\n            if (combinator === '!') return ' ';\r\n            else if (combinator === ' ') return '!';\r\n            else if ((/^!/).test(combinator)) return combinator.replace(/^!/, '');\r\n            else return '!' + combinator;\r\n        };\r\n\r\n        var reverse = function(expression) {\r\n            var expressions = expression.expressions;\r\n            for (var i = 0; i < expressions.length; i++) {\r\n                var exp = expressions[i];\r\n                var last = {\r\n                    parts: [],\r\n                    tag: '*',\r\n                    combinator: reverseCombinator(exp[0].combinator)\r\n                };\r\n\r\n                for (var j = 0; j < exp.length; j++) {\r\n                    var cexp = exp[j];\r\n                    if (!cexp.reverseCombinator) cexp.reverseCombinator = ' ';\r\n                    cexp.combinator = cexp.reverseCombinator;\r\n                    delete cexp.reverseCombinator;\r\n                }\r\n\r\n                exp.reverse().push(last);\r\n            }\r\n            return expression;\r\n        };\r\n\r\n        var escapeRegExp = (function() {\r\n            // Credit: XRegExp 0.6.1 (c) 2007-2008 Steven Levithan <http://stevenlevithan.com/regex/xregexp/> MIT License\r\n            var from = /(?=[\\-\\[\\]{}()*+?.\\\\\\^$|,#\\s])/g,\r\n                to = '\\\\';\r\n            return function(string) {\r\n                return string.replace(from, to)\r\n            }\r\n        }())\r\n\r\n        var regexp = new RegExp(\r\n            \"^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\\\"']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\\\"'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)\"\r\n            .replace(/<combinator>/, '[' + escapeRegExp(\">+~`!@$%^&={}\\\\;</\") + ']')\r\n            .replace(/<unicode>/g, '(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n            .replace(/<unicode1>/g, '(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n        );\r\n\r\n        function parser(\r\n            rawMatch,\r\n\r\n            separator,\r\n            combinator,\r\n            combinatorChildren,\r\n\r\n            tagName,\r\n            id,\r\n            className,\r\n\r\n            attributeKey,\r\n            attributeOperator,\r\n            attributeQuote,\r\n            attributeValue,\r\n\r\n            pseudoMarker,\r\n            pseudoClass,\r\n            pseudoQuote,\r\n            pseudoClassQuotedValue,\r\n            pseudoClassValue\r\n        ) {\r\n            if (separator || separatorIndex === -1) {\r\n                parsed.expressions[++separatorIndex] = [];\r\n                combinatorIndex = -1;\r\n                if (separator) return '';\r\n            }\r\n\r\n            if (combinator || combinatorChildren || combinatorIndex === -1) {\r\n                combinator = combinator || ' ';\r\n                var currentSeparator = parsed.expressions[separatorIndex];\r\n                if (reversed && currentSeparator[combinatorIndex])\r\n                    currentSeparator[combinatorIndex].reverseCombinator = reverseCombinator(combinator);\r\n                currentSeparator[++combinatorIndex] = {\r\n                    combinator: combinator,\r\n                    tag: '*'\r\n                };\r\n            }\r\n\r\n            var currentParsed = parsed.expressions[separatorIndex][combinatorIndex];\r\n\r\n            if (tagName) {\r\n                currentParsed.tag = tagName.replace(reUnescape, '');\r\n\r\n            } else if (id) {\r\n                currentParsed.id = id.replace(reUnescape, '');\r\n\r\n            } else if (className) {\r\n                className = className.replace(reUnescape, '');\r\n\r\n                if (!currentParsed.classList) currentParsed.classList = [];\r\n                if (!currentParsed.classes) currentParsed.classes = [];\r\n                currentParsed.classList.push(className);\r\n                currentParsed.classes.push({\r\n                    value: className,\r\n                    regexp: new RegExp('(^|\\\\s)' + escapeRegExp(className) + '(\\\\s|$)')\r\n                });\r\n\r\n            } else if (pseudoClass) {\r\n                pseudoClassValue = pseudoClassValue || pseudoClassQuotedValue;\r\n                pseudoClassValue = pseudoClassValue ? pseudoClassValue.replace(reUnescape, '') : null;\r\n\r\n                if (!currentParsed.pseudos) currentParsed.pseudos = [];\r\n                currentParsed.pseudos.push({\r\n                    key: pseudoClass.replace(reUnescape, ''),\r\n                    value: pseudoClassValue,\r\n                    type: pseudoMarker.length == 1 ? 'class' : 'element'\r\n                });\r\n\r\n            } else if (attributeKey) {\r\n                attributeKey = attributeKey.replace(reUnescape, '');\r\n                attributeValue = (attributeValue || '').replace(reUnescape, '');\r\n\r\n                var test, regexp;\r\n\r\n                switch (attributeOperator) {\r\n                    case '^=':\r\n                        regexp = new RegExp('^' + escapeRegExp(attributeValue));\r\n                        break;\r\n                    case '$=':\r\n                        regexp = new RegExp(escapeRegExp(attributeValue) + '$');\r\n                        break;\r\n                    case '~=':\r\n                        regexp = new RegExp('(^|\\\\s)' + escapeRegExp(attributeValue) + '(\\\\s|$)');\r\n                        break;\r\n                    case '|=':\r\n                        regexp = new RegExp('^' + escapeRegExp(attributeValue) + '(-|$)');\r\n                        break;\r\n                    case '=':\r\n                        test = function(value) {\r\n                            return attributeValue == value;\r\n                        };\r\n                        break;\r\n                    case '*=':\r\n                        test = function(value) {\r\n                            return value && value.indexOf(attributeValue) > -1;\r\n                        };\r\n                        break;\r\n                    case '!=':\r\n                        test = function(value) {\r\n                            return attributeValue != value;\r\n                        };\r\n                        break;\r\n                    default:\r\n                        test = function(value) {\r\n                            return !!value;\r\n                        };\r\n                }\r\n\r\n                if (attributeValue == '' && (/^[*$^]=$/).test(attributeOperator)) test = function() {\r\n                    return false;\r\n                };\r\n\r\n                if (!test) test = function(value) {\r\n                    return value && regexp.test(value);\r\n                };\r\n\r\n                if (!currentParsed.attributes) currentParsed.attributes = [];\r\n                currentParsed.attributes.push({\r\n                    key: attributeKey,\r\n                    operator: attributeOperator,\r\n                    value: attributeValue,\r\n                    test: test\r\n                });\r\n\r\n            }\r\n\r\n            return '';\r\n        };\r\n\r\n        // Slick NS\r\n\r\n        var Slick = (this.Slick || {});\r\n\r\n        Slick.parse = function(expression) {\r\n            return parse(expression);\r\n        };\r\n\r\n        Slick.escapeRegExp = escapeRegExp;\r\n\r\n        if (!this.Slick) this.Slick = Slick;\r\n\r\n    }).apply(local);\r\n\r\n\r\n    var simpleClassSelectorRE = /^\\.([\\w-]*)$/,\r\n        simpleIdSelectorRE = /^#([\\w-]*)$/,\r\n        slice = Array.prototype.slice;\r\n\r\n\r\n    local.parseSelector = local.Slick.parse;\r\n\r\n\r\n    local.pseudos = {\r\n        // custom pseudos\r\n        checked: function(elm) {\r\n            return !!elm.checked;\r\n        },\r\n\r\n        contains: function(elm, idx, nodes, text) {\r\n            if ($(this).text().indexOf(text) > -1) return this\r\n        },\r\n\r\n        'disabled': function(elm) {\r\n            return !!elm.disabled;\r\n        },\r\n\r\n        'enabled': function(elm) {\r\n            return !elm.disabled;\r\n        },\r\n\r\n        eq: function(elm, idx, nodes, value) {\r\n            return (idx === value);\r\n        },\r\n\r\n        'focus': function(elm) {\r\n            return document.activeElement === elm && (elm.href || elm.type || elm.tabindex);\r\n        },\r\n\r\n        first: function(elm, idx) {\r\n            return (idx === 0);\r\n        },\r\n\r\n        has: function(elm, idx, nodes, sel) {\r\n            return local.querySelector(elm, sel).length > 0;\r\n        },\r\n\r\n        hidden: function(elm) {\r\n            return !local.pseudos[\"visible\"](elm);\r\n        },\r\n\r\n        last: function(elm, idx, nodes) {\r\n            return (idx === nodes.length - 1);\r\n        },\r\n\r\n        parent: function(elm) {\r\n            return !!elm.parentNode;\r\n        },\r\n\r\n        selected: function(elm) {\r\n            return !!elm.selected;\r\n        },\r\n\r\n        visible: function(elm) {\r\n            return elm.offsetWidth && elm.offsetWidth\r\n        }\r\n    };\r\n\r\n    local.divide = function(cond) {\r\n        var nativeSelector = \"\",\r\n            customPseudos = [],\r\n            tag,\r\n            id,\r\n            classes,\r\n            attributes,\r\n            pseudos;\r\n\r\n\r\n        if (id = cond.id) {\r\n            nativeSelector += (\"#\" + id);\r\n        }\r\n        if (classes = cond.classes) {\r\n            for (var i = classes.length; i--;) {\r\n                nativeSelector += (\".\" + classes[i].value);\r\n            }\r\n        }\r\n        if (attributes = cond.attributes) {\r\n            for (var i = 0; i < attributes.length; i++) {\r\n                if (attributes[i].Operator) {\r\n                    nativeSelector += (\"[\" + attributes[i].key + attributes[i].Operator + JSON.stringify(attributes[i].value) + +\"]\");\r\n                } else {\r\n                    nativeSelector += (\"[\" + attributes[i].key + \"]\");\r\n                }\r\n            }\r\n        }\r\n        if (pseudos = cond.pseudos) {\r\n            for (i = pseudos.length; i--;) {\r\n                part = pseudos[i];\r\n                if (this.pseudos[part.key]) {\r\n                    customPseudos.push(part);\r\n                } else {\r\n                    if (part.value !== undefine) {\r\n                        nativeSelector += (\":\" + part.key + \"(\" + JSON.stringify(part))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (tag = cond.tag) {\r\n            nativeSelector = tag.toUpperCase() + nativeSelector;\r\n        }\r\n\r\n        if (!nativeSelector) {\r\n            nativeSelector = \"*\";\r\n        }\r\n\r\n        return {\r\n            nativeSelector: nativeSelector,\r\n            customPseudos: customPseudos\r\n        }\r\n\r\n    };\r\n\r\n    local.check = function(node, cond, idx, nodes) {\r\n        var tag,\r\n            id,\r\n            classes,\r\n            attributes,\r\n            pseudos;\r\n\r\n        if (tag = cond.tag) {\r\n            var nodeName = node.nodeName.toUpperCase();\r\n            if (tag == '*') {\r\n                if (nodeName < '@') return false; // Fix for comment nodes and closed nodes\r\n            } else {\r\n                if (nodeName != tag) return false;\r\n            }\r\n        }\r\n\r\n        if (id = cond.id) {\r\n            if (node.getAttribute('id') != id) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        var i, part, cls, pseudo;\r\n\r\n        if (classes = cond.classes) {\r\n            for (i = classes.length; i--;) {\r\n                cls = node.getAttribute('class');\r\n                if (!(cls && classes[i].regexp.test(cls))) return false;\r\n            }\r\n        }\r\n\r\n        if (attributes)\r\n            for (i = attributes.length; i--;) {\r\n                part = attributes[i];\r\n                if (part.operator ? !part.test(node.getAttribute(part.key)) : !node.hasAttribute(part.key)) return false;\r\n            }\r\n        if (pseudos = cond.pseudos) {\r\n            for (i = pseudos.length; i--;) {\r\n                part = pseudos[i];\r\n                if (pseudo = this.pseudos[part.key]) {\r\n                    if (!pseudo(node, idx, nodes, part.value)) {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    if (!nativeMatchesSelector.call(node, part.key)) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    local.match = function(node, selector) {\r\n\r\n        var parsed = local.Slick.parse(selector);\r\n        if (!parsed) {\r\n            return true;\r\n        }\r\n\r\n        // simple (single) selectors\r\n        var expressions = parsed.expressions,\r\n            simpleExpCounter = 0,\r\n            i;\r\n        for (i = 0;\r\n            (currentExpression = expressions[i]); i++) {\r\n            if (currentExpression.length == 1) {\r\n                var exp = currentExpression[0];\r\n                if (this.check(node, exp)) {\r\n                    return true;\r\n                }\r\n                simpleExpCounter++;\r\n            }\r\n        }\r\n\r\n        if (simpleExpCounter == parsed.length) {\r\n            return false;\r\n        }\r\n\r\n        var nodes = this.query(document, parsed),\r\n            item;\r\n        for (i = 0; item = nodes[i++];) {\r\n            if (item === node) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    local.combine = function(elm, bit) {\r\n        var op = bit.combinator,\r\n            cond = bit,\r\n            node1,\r\n            nodes = [];\r\n\r\n        switch (op) {\r\n            case '>': // direct children\r\n                nodes = children(elm, cond);\r\n                break;\r\n            case '+': // next sibling\r\n                node1 = nextSibling(elm, cond, true);\r\n                if (node1) {\r\n                    nodes.push(node1);\r\n                }\r\n                break;\r\n            case '^': // first child\r\n                node1 = firstChild(elm, cond, true);\r\n                if (node1) {\r\n                    nodes.push(node1);\r\n                }\r\n                break;\r\n            case '~': // next siblings\r\n                nodes = nextSiblings(elm, cond);\r\n                break;\r\n            case '++': // next sibling and previous sibling\r\n                var prev = previousSibling(elm, cond, true),\r\n                    next = nextSibling(elm, cond, true);\r\n                if (prev) {\r\n                    nodes.push(prev);\r\n                }\r\n                if (next) {\r\n                    nodes.push(next);\r\n                }\r\n                break;\r\n            case '~~': // next siblings and previous siblings\r\n                nodes = siblings(elm, cond);\r\n                break;\r\n            case '!': // all parent nodes up to document\r\n                nodes = ancestors(elm, cond);\r\n                break;\r\n            case '!>': // direct parent (one level)\r\n                node1 = parent(elm, cond);\r\n                if (node1) {\r\n                    nodes.push(node1);\r\n                }\r\n                break;\r\n            case '!+': // previous sibling\r\n                nodes = previousSibling(elm, cond, true);\r\n                break;\r\n            case '!^': // last child\r\n                node1 = lastChild(elm, cond, true);\r\n                if (node1) {\r\n                    nodes.push(node1);\r\n                }\r\n                break;\r\n            case '!~': // previous siblings\r\n                nodes = previousSiblings(elm, cond);\r\n                break;\r\n            default:\r\n                var divided = this.divide(bit);\r\n                nodes = slice.call(elm.querySelectorAll(divided.nativeSelector));\r\n                if (divided.customPseudos) {\r\n                    for (var i = divided.customPseudos.length - 1; i >= 0; i--) {\r\n                        nodes = filter.call(nodes, function(item, idx) {\r\n                            return local.check(item, {\r\n                                pseudos: [divided.customPseudos[i]]\r\n                            }, idx, nodes)\r\n                        });\r\n                    }\r\n                }\r\n                break;\r\n\r\n        }\r\n        return nodes;\r\n    }\r\n\r\n    local.query = function(node, selector, single) {\r\n\r\n\r\n        var parsed = this.Slick.parse(selector);\r\n\r\n        var\r\n            founds = [],\r\n            currentExpression, currentBit,\r\n            expressions = parsed.expressions;\r\n\r\n        for (var i = 0;\r\n            (currentExpression = expressions[i]); i++) {\r\n            var currentItems = [node],\r\n                found;\r\n            for (var j = 0;\r\n                (currentBit = currentExpression[j]); j++) {\r\n                found = langx.map(currentItems, function(item, i) {\r\n                    return local.combine(item, currentBit)\r\n                });\r\n                if (found) {\r\n                    currentItems = found;\r\n                }\r\n            }\r\n            if (found) {\r\n                founds = founds.concat(found);\r\n            }\r\n        }\r\n\r\n        return founds;\r\n    }\r\n\r\n\r\n    function ancestor(node, selector, root) {\r\n        while (node = node.parentNode) {\r\n            if (matches(node, selector)) {\r\n                return node;\r\n            }\r\n            if (node == root) {\r\n                break;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    function ancestors(node, selector) {\r\n        var ret = [];\r\n        while (node = node.parentNode) {\r\n            if (matches(node, selector)) {\r\n                ret.push(node);\r\n            }\r\n            if (node == ret) {\r\n                break;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    function byId(id, doc) {\r\n        doc = doc || noder.doc();\r\n        return doc.getElementById(id);\r\n    }\r\n\r\n    function children(node, selector) {\r\n        var childNodes = node.childNodes,\r\n            ret = [];\r\n        for (var i = 0; i < childNodes.length; i++) {\r\n            var node = childNodes[i];\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    ret.push(node);\r\n                }\r\n\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    function closest(node, selector) {\r\n        while (node && !(matches(node, selector))) {\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    function descendants(elm, selector) {\r\n        // Selector\r\n        try {\r\n            return slice.call(elm.querySelectorAll(selector));\r\n        } catch (matchError) {\r\n            //console.log(matchError);\r\n        }\r\n        return local.query(elm, selector);\r\n    }\r\n\r\n    function descendant(elm, selector) {\r\n        // Selector\r\n        try {\r\n            return elm.querySelector(selector);\r\n        } catch (matchError) {\r\n            //console.log(matchError);\r\n        }\r\n        var nodes = local.query(elm, selector);\r\n        if (nodes.length > 0) {\r\n            return nodes[0];\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function find(selector) {\r\n        return descendant(document.body, selector);\r\n    }\r\n\r\n    function findAll(selector) {\r\n        return descendants(document.body, selector);\r\n    }\r\n\r\n    function firstChild(elm, selector, first) {\r\n        var childNodes = elm.childNodes,\r\n            node = childNodes[0];\r\n        while (node) {\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    return node;\r\n                }\r\n                if (first) {\r\n                    break;\r\n                }\r\n            }\r\n            node = node.nextSibling;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    function lastChild(elm, selector, last) {\r\n        var childNodes = elm.childNodes,\r\n            node = childNodes[childNodes.length - 1];\r\n        while (node) {\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    return node;\r\n                }\r\n                if (last) {\r\n                    break;\r\n                }\r\n            }\r\n            node = node.previousSibling;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    function matches(elm, selector) {\r\n        if (!selector || !elm || elm.nodeType !== 1) {\r\n            return false\r\n        }\r\n\r\n        if (langx.isString(selector)) {\r\n            try {\r\n                return nativeMatchesSelector.call(elm, selector.replace(/\\[([^=]+)=\\s*([^'\"\\]]+?)\\s*\\]/g, '[$1=\"$2\"]'));\r\n            } catch (matchError) {\r\n                //console.log(matchError);\r\n            }\r\n            return local.match(elm, selector)\r\n        } else {\r\n            return local.check(elm, selector);\r\n        }\r\n\r\n    }\r\n\r\n    function nextSibling(elm, selector, adjacent) {\r\n        var node = elm.nextSibling;\r\n        while (node) {\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    return node;\r\n                }\r\n                if (adjacent) {\r\n                    break;\r\n                }\r\n            }\r\n            node = node.nextSibling;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    function nextSiblings(elm, selector) {\r\n        var node = elm.nextSibling,\r\n            ret = [];\r\n        while (node) {\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    ret.push(node);\r\n                }\r\n            }\r\n            node = node.nextSibling;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n    function parent(elm, selector) {\r\n        var node = elm.parentNode;\r\n        if (node && (!selector || matches(node, selector))) {\r\n            return node;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    function previousSibling(elm, selector, adjacent) {\r\n        var node = elm.previousSibling;\r\n        while (node) {\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    return node;\r\n                }\r\n                if (adjacent) {\r\n                    break;\r\n                }\r\n            }\r\n            node = node.previousSibling;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    function previousSiblings(elm, selector) {\r\n        var node = elm.previousSibling,\r\n            ret = [];\r\n        while (node) {\r\n            if (node.nodeType == 1) {\r\n                if (!selector || matches(node, selector)) {\r\n                    ret.push(node);\r\n                }\r\n            }\r\n            node = node.previousSibling;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    function siblings(elm, selector) {\r\n        var node = elm.parentNode.firstChild,\r\n            ret = [];\r\n        while (node) {\r\n            if (node.nodeType == 1 && node !== elm) {\r\n                if (!selector || matches(node, selector)) {\r\n                    ret.push(node);\r\n                }\r\n            }\r\n            node = node.nextSibling;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    var finder = function() {\r\n        return finder;\r\n    };\r\n\r\n    langx.mixin(finder, {\r\n\r\n        ancestor: ancestor,\r\n\r\n        ancestors: ancestors,\r\n\r\n        byId: byId,\r\n\r\n        children: children,\r\n\r\n        closest: closest,\r\n        \r\n        descendant: descendant,\r\n\r\n        descendants: descendants,\r\n\r\n        find: find,\r\n\r\n        findAll: findAll,\r\n\r\n        firstChild: firstChild,\r\n\r\n        lastChild: lastChild,\r\n\r\n        matches: matches,\r\n\r\n        nextSibling: nextSibling,\r\n\r\n        nextSiblings: nextSiblings,\r\n\r\n        parent: parent,\r\n\r\n        previousSibling: previousSibling,\r\n\r\n        previousSiblings: previousSiblings,\r\n\r\n        pseudos: local.pseudos,\r\n\r\n        siblings: siblings\r\n    });\r\n\r\n    return skylark.finder = finder;\r\n});"]}