/**
 * skylark-jquery - The skylark plugin library for fully compatible API with jquery.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.6
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./core","skylark-langx/langx"],function(n,t){var r=0;function e(n,t){return""==t?n:(n+"&"+t).replace(/[&?]{1,2}/,"?")}function a(t,r,e,a){return n.isFunction(t)?(a=r,e=t,r=void 0,t=void 0):n.isFunction(r)&&(a=e,e=r,r=void 0),n.isFunction(e)||(a=e,e=void 0),{url:t,data:r,success:e,dataType:a}}n.ajaxJSONP=function(a){var i,u,o=new t.Deferred,s=a.jsonpCallback,c=(n.isFunction(s)?s():s)||"jsonp"+ ++r,l=document.createElement("script"),p=window[c],f=function(t){n(l).triggerHandler("error",t||"abort")},d={abort:f};for(var j in a.data)a.url=e(a.url,j+"="+a.data[j]);return n(l).on("load error",function(t,r){clearTimeout(u),n(l).off().remove(),"error"!=t.type&&i?o.resolve(i[0],200,d):o.reject(t),window[c]=p,i&&n.isFunction(p)&&p(i[0]),p=i=void 0}),window[c]=function(){i=arguments},l.src=a.url.replace(/\?(.+)=\?/,"?$1="+c),document.head.appendChild(l),a.timeout>0&&(u=setTimeout(function(){f("timeout")},a.timeout)),o},n.ajaxSettings=t.Xhr.defaultOptions,n.ajaxSettings.xhr=function(){return new window.XMLHttpRequest},n.ajax=function(r){if(r?t.isString(r)&&(r={url:r}):r={url:"./"},"jsonp"==r.dataType)return/\?.+=\?/.test(r.url)||(r.url=e(r.url,r.jsonp?r.jsonp+"=?":!1===r.jsonp?"":"callback=?")),n.ajaxJSONP(r);var a=t.Xhr.request(r.url,r);return r.success&&(a=a.then(r.success,r.error)),a},n.get=function(){return n.ajax(a.apply(null,arguments))},n.post=function(){var t=a.apply(null,arguments);return t.type="POST",n.ajax(t)},n.getJSON=function(){var t=a.apply(null,arguments);return t.dataType="json",n.ajax(t)};var i=n.fn.load;function u(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var e,a=0,i=t.toLowerCase().match(o)||[];if(jQuery.isFunction(r))for(;e=i[a++];)"+"===e[0]?(e=e.slice(1)||"*",(n[e]=n[e]||[]).unshift(r)):(n[e]=n[e]||[]).push(r)}}n.fn.load=function(t,r,e){if("string"!=typeof t&&i)return i.apply(this,arguments);if(!this.length)return this;var u,o=this,s=a(t,r,e),c=s.url&&s.url.split(/\s/),l=s.success;return c&&c.length>1&&(s.url=c[0],u=c[1]),s.success=function(t){o.html(u?n("<div>").html(t.replace(rscript,"")).find(u):t),l&&l.apply(o,arguments)},n.ajax(s),this},n.param=t.Xhr.param;var o=/\S+/g;return n.ajaxPrefilter=u({}),n.ajaxTransport=u({}),n.ajaxSetup=function(n,r){t.mixin(t.Xhr.defaultOptions,n,r)},n});
//# sourceMappingURL=sourcemaps/ajax.js.map
