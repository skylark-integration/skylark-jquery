/**
 * skylark-jquery - The skylark plugin library for fully compatible API with jquery.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.6
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./core","skylark-langx/langx"],function(r,n){function t(n,t,e,a){return r.isFunction(n)?(a=t,e=n,t=void 0,n=void 0):r.isFunction(t)&&(a=e,e=t,t=void 0),r.isFunction(e)||(a=e,e=void 0),{url:n,data:t,success:e,dataType:a}}function e(r){return function(n,t){"string"!=typeof n&&(t=n,n="*");var e,a=0,i=n.toLowerCase().match(o)||[];if(jQuery.isFunction(t))for(;e=i[a++];)"+"===e[0]?(e=e.slice(1)||"*",(r[e]=r[e]||[]).unshift(t)):(r[e]=r[e]||[]).push(t)}}r.ajaxJSONP=function(n,t){if(!("type"in n))return r.ajax(n);var e,a,i=n.jsonpCallback,o=(r.isFunction(i)?i():i)||"jsonp"+ ++jsonpID,u=document.createElement("script"),s=window[o],c=function(n){r(u).triggerHandler("error",n||"abort")},l={abort:c};return deferred&&deferred.promise(l),r(u).on("load error",function(t,i){clearTimeout(a),r(u).off().remove(),"error"!=t.type&&e?ajaxSuccess(e[0],l,n,deferred):ajaxError(null,i||"error",l,n,deferred),window[o]=s,e&&r.isFunction(s)&&s(e[0]),s=e=void 0}),ajaxBeforeSend(l,n)===!1?(c("abort"),l):(window[o]=function(){e=arguments},u.src=n.url.replace(/\?(.+)=\?/,"?$1="+o),document.head.appendChild(u),n.timeout>0&&(a=setTimeout(function(){c("timeout")},n.timeout)),l)},r.ajaxSettings=n.Xhr.defaultOptions,r.ajaxSettings.xhr=function(){return new window.XMLHttpRequest},r.ajax=function(r){var t=n.Xhr.request(r.url,r);return r.success&&(t=t.then(r.success,r.error)),t},r.get=function(){return r.ajax(t.apply(null,arguments))},r.post=function(){var n=t.apply(null,arguments);return n.type="POST",r.ajax(n)},r.getJSON=function(){var n=t.apply(null,arguments);return n.dataType="json",r.ajax(n)},r.fn.load=function(n,e,a){if(!this.length)return this;var i,o=this,u=t(n,e,a),s=u.url&&u.url.split(/\s/),c=u.success;return s&&s.length>1&&(u.url=s[0],i=s[1]),u.success=function(n){o.html(i?r("<div>").html(n.replace(rscript,"")).find(i):n),c&&c.apply(o,arguments)},r.ajax(u),this},r.param=n.Xhr.param;var a={},i={},o=/\S+/g;return r.ajaxPrefilter=e(a),r.ajaxTransport=e(i),r.ajaxSetup=function(r,t){n.mixin(n.Xhr.defaultOptions,r,t)},r});
//# sourceMappingURL=sourcemaps/ajax.js.map
