/**
 * skylark-jquery - The skylark plugin library for fully compatible API with jquery.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.6
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./core","skylark-langx/langx"],function(n,r){function t(r,t,e,a){return n.isFunction(t)&&(a=e,e=t,t=void 0),n.isFunction(e)||(a=e,e=void 0),{url:r,data:t,success:e,dataType:a}}function e(n){return function(r,t){"string"!=typeof r&&(t=r,r="*");var e,a=0,i=r.toLowerCase().match(o)||[];if(jQuery.isFunction(t))for(;e=i[a++];)"+"===e[0]?(e=e.slice(1)||"*",(n[e]=n[e]||[]).unshift(t)):(n[e]=n[e]||[]).push(t)}}n.ajaxJSONP=function(r,t){if(!("type"in r))return n.ajax(r);var e,a,i=r.jsonpCallback,o=(n.isFunction(i)?i():i)||"jsonp"+ ++jsonpID,u=document.createElement("script"),s=window[o],c=function(r){n(u).triggerHandler("error",r||"abort")},l={abort:c};return deferred&&deferred.promise(l),n(u).on("load error",function(t,i){clearTimeout(a),n(u).off().remove(),"error"!=t.type&&e?ajaxSuccess(e[0],l,r,deferred):ajaxError(null,i||"error",l,r,deferred),window[o]=s,e&&n.isFunction(s)&&s(e[0]),s=e=void 0}),ajaxBeforeSend(l,r)===!1?(c("abort"),l):(window[o]=function(){e=arguments},u.src=r.url.replace(/\?(.+)=\?/,"?$1="+o),document.head.appendChild(u),r.timeout>0&&(a=setTimeout(function(){c("timeout")},r.timeout)),l)},n.ajaxSettings=r.Xhr.defaultOptions,n.ajaxSettings.xhr=function(){return new window.XMLHttpRequest},n.ajax=function(n){return r.Xhr.request(n.url,n)},n.get=function(){return n.ajax(t.apply(null,arguments))},n.post=function(){var r=t.apply(null,arguments);return r.type="POST",n.ajax(r)},n.getJSON=function(){var r=t.apply(null,arguments);return r.dataType="json",n.ajax(r)},n.fn.load=function(r,e,a){if(!this.length)return this;var i,o=this,u=r.split(/\s/),s=t(r,e,a),c=s.success;return u.length>1&&(s.url=u[0],i=u[1]),s.success=function(r){o.html(i?n("<div>").html(r.replace(rscript,"")).find(i):r),c&&c.apply(o,arguments)},n.ajax(s),this},n.param=r.Xhr.param;var a={},i={},o=/\S+/g;return n.ajaxPrefilter=e(a),n.ajaxTransport=e(i),n.ajaxSetup=function(n,t){r.mixin(r.Xhr.defaultOptions,n,t)},n});
//# sourceMappingURL=sourcemaps/ajax.js.map
