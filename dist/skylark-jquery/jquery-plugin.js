/**
 * skylark-jquery - The skylark plugin library for fully compatible API with jquery.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.6
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx/langx","skylark-domx-data","skylark-domx-eventer","skylark-domx-plugins-base","skylark-domx-query"],function(e,t,s,n,i,o,a,r){var l=0;return a.Plugin.inherit({klassName:"JqPlugin",pluginEventPrefix:"",options:{create:null},destroy:function(){this.overrided(),this.element.off(this.eventNamespace),this.bindings.off(this.eventNamespace)},_construct:function(e,t){e=r(e||this.defaultElement||this)[0],this.element=r(e),this.uuid=l++,this.eventNamespace="."+this.pluginName+this.uuid,this.bindings=r(),this.classesElementLookup={},this.hoverable=r(),this.focusable=r(),e!==this&&(i.data(e,this.pluginName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=r(e.style?e.ownerDocument:e.document||e),this.window=r(this.document[0].defaultView||this.document[0].parentWindow)),this.overrided(e,t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_initOptions:function(e){e=n.mixin(this._getCreateOptions(),e),this.overrided(e)},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_super:function(){if(this.overrided)return this.overrided.apply(this,arguments)},_superApply:function(e){if(this.overrided)return this.overrided.apply(this,e)},_create:n.noop,_init:n.noop,_classes:function(e){var s=[],i=this;function o(t,o){var a,l;for(l=0;l<t.length;l++)a=i.classesElementLookup[t[l]]||r(),e.add?(e.element.each(function(e,t){n.map(i.classesElementLookup,function(e){return e}).some(function(e){return r(e).is(t)})||i._on(r(t),{remove:"_untrackClassesElement"})}),a=r(n.uniq(a.get().concat(e.element.get())))):a=r(a.not(e.element).get()),i.classesElementLookup[t[l]]=a,s.push(t[l]),o&&e.classes[t[l]]&&s.push(e.classes[t[l]])}return(e=t.mixin({element:this.element,classes:this.options.classes||{}},e)).keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var t=this;n.each(t.classesElementLookup,function(n,i){-1!==s.inArray(e.target,i)&&(t.classesElementLookup[n]=r(i.not(e.target).get()))}),this._off(r(e.target))},_removeClass:function(e,t,s){return this._toggleClass(e,t,s,!1)},_addClass:function(e,t,s){return this._toggleClass(e,t,s,!0)},_toggleClass:function(e,t,s,n){n="boolean"==typeof n?n:s;var i="string"==typeof e||null===e,o={extra:i?t:s,keys:i?e:t,element:i?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,s,n){var i,o=this;"boolean"!=typeof e&&(n=s,s=e,e=!1),n?(s=i=r(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,i=this.widget()),t.each(n,function(t,n){function a(){if(e||!0!==o.options.disabled&&!r(this).hasClass("ui-state-disabled"))return("string"==typeof n?o[n]:n).apply(o,arguments)}"string"!=typeof n&&(a.guid=n.guid=n.guid||a.guid||r.guid++);var l=t.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?i.on(u,h,a):s.on(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t),this.bindings=r(this.bindings.not(e).get()),this.focusable=r(this.focusable.not(e).get()),this.hoverable=r(this.hoverable.not(e).get())},_trigger:function(t,s,n){var i,a,r=this.options[t];if(n=n||{},(s=o.proxy(s)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),s.target=this.element[0],a=s.originalEvent)for(i in a)i in s||(s[i]=a[i]);return this.element.trigger(s,n),!(e.isFunction(r)&&!1===r.apply(this.element[0],[s].concat(n))||s.isDefaultPrevented())},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(r(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(r(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(r(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(r(e.currentTarget),null,"ui-state-focus")}})},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})}})});
//# sourceMappingURL=sourcemaps/jquery-plugin.js.map
